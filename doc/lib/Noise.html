<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

  <title>NodeBox Libraries: Noise</title>
  <link charset="utf-8" href="../nodebox.css" rel="stylesheet" type="text/css"/>

</head><body><div class="link" id="nav">
    <h1><a href="../manual.html">NodeBox <span>Libraries</span></a></h1>

    <h3>Noise</h3>
  </div>

  <div class="article">
    <h2>Description</h2>

    <p><i>Perlin noise</i> is a random sequence generator that is more naturally ordered than the
    standard <a href="../ref/Utility.html#random()">random()</a> command. It was invented by Ken
    Perlin in the 1980s and been used since in graphical applications to produce <a href="http://en.wikipedia.org/wiki/Procedural_texture">procedural textures</a>, natural motion,
    shapes, terrains, clouds, etc.</p>
    <p> 
    <table>
      <tbody>
        <tr>
          <td><span class="image_border"><img alt="noise1" height="101" src="media/noise1.jpg" width="101"/></span>
          </td><td>Here's some true random noise in which each square's color is an arbitrary value
          between 0.0 and 1.0. Sometimes the output of a true random number generator is too harsh
          to appear natural.
        </td></tr><tr>
          <td><span class="image_border"><img alt="noise2" height="100" src="media/noise2.jpg" width="100"/></span>
          </td><td>Perlin noise is smoother because each value depends on the values around it, yielding
          smooth transitions. Furthermore, the random "landscape" stretches indefinitely.
        </td></tr></tbody></table></p>
    <p> </p>
    <h2>Download</h2>

    <table border="0">
      <tbody>
        <tr>
          <td><a href="http://nodebox.net/code/data/media/noise.zip"><img alt="download" height="20" src="media/download.gif" width="20"/></a>
          </td><td><a href="http://nodebox.net/code/data/media/noise.zip">noise.zip</a> (5KB)<br/>
          <i>Last updated for NodeBox 1.9.2<br/></i><i>Licensed under GPL</i><br/>
          <i>Author: Malcolm Kesson (C-code), Tom De Smedt (Python adaption)</i><br/>
        </td></tr></tbody></table>

    <h2>Documentation</h2>

    <ul>
      <li><a href="#library">How to get the library up and running</a>
      </li><li><a href="#generate">Generating noise</a>
      </li><li><a href="#shape">Shaping the noise pattern</a>
    </li></ul>

    <p> </p>
    <hr/>

    <h2><a id="library" name="library" title="library"></a>How to get the library up and
    running</h2>

    <p>Put the <i>noise</i> library folder in the same folder as your script so NodeBox can find
    the library. You can also put it in ~/Library/Application Support/NodeBox/.</p>
    <pre>noise = <span class="kw">ximport</span><span class="s">(</span><span class="str">"noise"</span><span class="s">)</span></pre>
 
    <hr size="2" width="100%"/>

    <h2><a id="generate" name="generate" title="generate"></a>Generating noise</h2>

    <p>The <i>generate()</i> command returns smooth values between 0.0 and 1.0 based on the
    parameters you supply. You can render noise in one (<i>x</i>), two (<i>x, y</i>) or three
    dimensions (<i>x, y, z</i>).</p>
    <pre>generate<span class="s">(</span>x, y=<span class="s">0.0</span>, z=<span class="s">0.0</span><span class="s">)</span></pre>


    <p>The <i>x, y</i> and <i>z</i> parameters determine the coordinates in the noise landscape.
    Since the landscape is infinite, the actual value of a coordinate doesn't matter, only the
    distance between successive steps. The <b>smaller</b> the difference between steps, the
    <b>smoother</b> the noise sequence. Steps between 0.005 and 0.1 usually work best.
    <table>
      <tbody>
        <tr>
          <td><span class="image_border"><img alt="noise3" height="100" src="media/noise3.jpg" width="100"/></span>
          </td><td>
            <pre>
<span class="kw">for</span> i <span class="kw">in</span> <span class="s">range</span><span class="s">(</span><span class="s">100</span><span class="s">)</span>:
    <span class="kw">for</span> j <span class="kw">in</span> <span class="s">range</span><span class="s">(</span><span class="s">100</span><span class="s">)</span>:
        d = noise.<span class="s">generate</span><span class="s">(</span>i*<span class="s">0.05</span>, j*<span class="s">0.05</span><span class="s">)</span>  
        <span class="kw">fill</span><span class="s">(</span><span class="s">0</span>, <span class="s">0</span>, <span class="s">0</span>, d*<span class="s">1.2</span><span class="s">)</span>
        <span class="kw">rect</span><span class="s">(</span>i, j, <span class="s">1</span>, <span class="s">1</span><span class="s">)</span></pre>

          </td></tr></tbody></table></p>
    <p>The <i>generate()</i> command has additional <i>width</i>, <i>height</i>, <i>depth</i> and
    <i>scale</i> parameters that might make things more comprehensible for you. Instead of
    multiplying x , y and z with a scale, you can define their range with <i>width</i>,
    <i>height</i> and <i>depth</i> and then zoom in or out with the <i>scale</i> parameter:
    <table>
      <tbody>
        <tr>
          <td><span class="image_border"><img alt="noise4" height="100" src="media/noise4.jpg" width="100"/></span>
          </td><td>
            <pre>
w, h = <span class="s">100</span>, <span class="s">100</span>
<span class="kw">for</span> i <span class="kw">in</span> <span class="s">range</span><span class="s">(</span>w<span class="s">)</span>:
    <span class="kw">for</span> j <span class="kw">in</span> <span class="s">range</span><span class="s">(</span>h<span class="s">)</span>:
        d = noise.<span class="s">generate</span><span class="s">(</span>
            i, j, 
            width=w, 
            height=h, 
            <span class="kw">scale</span>=<span class="s">0.5</span>
        <span class="s">)</span>
        <span class="kw">rect</span><span class="s">(</span>i, j, <span class="s">1</span>, <span class="s">1</span>, <span class="kw">fill</span>=<span class="s">(</span><span class="s">0</span>,<span class="s">0</span>,<span class="s">0</span>,d*<span class="s">1.2</span><span class="s">)</span><span class="s">)</span></pre>

          </td></tr></tbody></table></p>
    <p> </p>
    <p>By default, the Noise library will load a "shape" from which to generate the noise. It will
    use the same pattern each time you run your script. If you want the library to create a new
    pattern each time you run the script you can call the <i>seed()</i> command before generating
    noise:</p>
    <pre>seed<span class="s">(</span>i=<span class="kw">None</span><span class="s">)</span></pre>
 
    <hr size="2" width="100%"/>

    <h2>Shaping the noise pattern:</h2>

    <p>The shape itself is a list of 512 integers with values between 0-511. With the
    <i>shape()</i> command you can load a new list to generate noise from. This way you can create
    more specific patterns of noise to suit your own needs:
    <table>
      <tbody>
        <tr>
          <td><span class="image_border"><img alt="noise5" height="100" src="media/noise5.jpg" width="100"/></span>
          </td><td>
            <pre>
<span class="grey"># honey comb</span>
noise.<span class="s">shape</span><span class="s">(</span> <span class="s">[</span><span class="s">0</span>,<span class="s">1</span><span class="s">]</span>*<span class="s">256</span> <span class="s">)</span></pre>

        </td></tr><tr>
          <td><span class="image_border"><img alt="noise6" height="100" src="media/noise6.jpg" width="100"/></span>
          </td><td>
            <pre>
<span class="grey"># chainmail</span>
noise.<span class="s">shape</span><span class="s">(</span> <span class="s">[</span><span class="s">0</span>,<span class="s">1</span>,<span class="s">2</span>,<span class="s">3</span><span class="s">]</span>*<span class="s">128</span> <span class="s">)</span></pre>

        </td></tr><tr>
          <td><span class="image_border"><img alt="noise7" height="100" src="media/noise7.jpg" width="100"/></span>
          </td><td>
            <pre>
<span class="grey"># some kind of metal or fabric?</span>
noise.<span class="s">shape</span><span class="s">(</span> <span class="s">[</span><span class="s">0</span>,<span class="s">1</span>,<span class="s">2</span>,<span class="s">3</span>,<span class="kw">random</span><span class="s">(</span><span class="s">6</span><span class="s">)</span>,<span class="s">3</span>,<span class="s">2</span>,<span class="s">1</span><span class="s">]</span>*<span class="s">64</span> <span class="s">)</span></pre>

          </td></tr></tbody></table></p>
    <p> </p>
  </div>

</body></html>