<!DOCTYPE html>
<html><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

  <title>NodeBox Libraries: WiiNode</title>
  <link charset="utf-8" href="../nodebox.css" rel="stylesheet" type="text/css"/>

</head><body><div class="link" id="nav">
    <h1><a href="../manual.html">NodeBox <span>Libraries</span></a></h1>

    <h3>WiiNode</h3>
  </div>

  <div class="article">
    <h2>Description</h2>

    <p><i>WiiNode</i> is a library for connecting your WiiMote to NodeBox. No actual Wii is needed,
    just the remote.<img height="367" src="media/wiinode-in-action.jpg" width="550"/>

    </p><h2>Download</h2>

    <table border="0">
      <tbody>
        <tr>
          <td><a href="http://nodebox.net/code/data/media/wiinode.zip"><img alt="download" height="20" src="media/download.gif" width="20"/></a>

          </td><td><a href="http://nodebox.net/code/data/media/wiinode.zip">wiinode.zip</a> (24KB)<br/>
          <i>Last updated for NodeBox 1.9.4<br/>
          Licensed under the GPL<br/>
          Author: Frederik De Bleser</i>
        </td></tr></tbody></table>

    <h2>Documentation</h2>

    <ul>
      <li><a href="#prerequisites">Prerequisites</a>

      </li><li><a href="#library">How to get the library up and running</a>

      </li><li><a href="#mainloop">Setting up the main loop</a>

      </li><li><a href="#wiimote">The WiiMote class</a>

      </li><li><a href="#fooling">Show me someone fooling around with this</a>
    </li></ul><br/>
    <hr/>
    <a name="prerequisites" title="prerequisites"></a>

    <h2>Prerequisites</h2>

    <p><a href="http://www.osculator.net/wiki/">OSCulator</a> makes the connection with the WiiMote
    possible. The necessary configuration settings are in the <code>wiidraw.zip</code> file under
    <code>settings.oscd</code>.

    </p><p>The program needs to be running in the background, and communicates over <a href="http://en.wikipedia.org/wiki/OpenSound_Control">OSC</a>.

    </p><p>Getting your WiiMote to work with the program, for me, meant pushing the buttons "1" and
    "2", or alternatively, the red SYNC button (under the battery cover), a few times. Once you get
    a battery reading, you should be fine.
    </p><hr/>
    <a name="library" title="library"></a>

    <h2>How to get the library up and running</h2>

    <p>Put the web library folder in the same folder as your script so NodeBox can find the
    library. You can also put it in ~/Library/Application Support/NodeBox/.
    </p><pre class="python">wiinode = ximport("wiinode")<br/>
</pre>

    <p><small>Outside of NodeBox you can also just do import wiinode.</small>
    </p><hr/>
    <a name="mainloop" title="mainloop"></a>

    <h2>Setting up the main loop</h2>

    <p>In your animation, initialize the WiiMote object. Then, in each frame, call the update
    method:
    </p><pre class="python">def setup():<br/>    global wm<br/>    wm = wiinode.WiiMote()<br/><br/>def draw():<br/>    global wm<br/>    wm.update()<br/>    print wm.yaw<br/>
</pre>
    <hr/>
    <a name="wiimote" title="wiimote"></a>

    <h2>The WiiMote class</h2>

    <p>To get a good overview of all the values, check out <code>wiinode_example3.py</code>, which
    visualizes all available WiiMote attributes.

    </p><p><span class="grey_box">Rotation</span>

    </p><p>The WiiMote returns roll, pitch and yaw. See the <a href="http://en.wikipedia.org/wiki/Flight_dynamics">Wikipedia article on flight dynamics</a> for
    more information.

    </p><p>See the <code>wiinode_example1.py</code> for a game that uses the roll value.
    </p><pre class="python">wm.pitch # The absolute pitch value<br/>wm.roll # The absolute roll value<br/>wm.yaw # The absolute yaw value<br/>
</pre>

    <p><span class="grey_box">Acceleration</span>

    </p><p>The WiiMote returns acceleration in both x, y and z positions. This is <b>not</b> the
    remote's absolute position in space. You need an infrared sender for that.
    </p><pre class="python">wm.x # The horizontal (left-right) acceleration<br/>wm.y # The forward acceleration<br/>wm.z # The vertical (up-down) acceleration<br/>
</pre>

    <p><span class="grey_box">Buttons</span>

    </p><p>The WiiMote's A and B buttons can be monitored as well.
    </p><pre class="python">wm.a # True if the A button is pressed<br/>wm.b # True if the B button is pressed<br/>
</pre>
    <hr/>
    <a name="fooling" title="fooling"></a>

    <h2>Show me someone fooling around with this</h2><object height="350" width="425">
      <param name="movie" value="http://www.youtube.com/v/u7IldQO5ytQ"></param>
      <embed height="350" src="http://www.youtube.com/v/u7IldQO5ytQ" width="425"></embed>
    </object>
  </div>

</body></html>