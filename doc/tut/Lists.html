<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>

  <title>NodeBox Tutorials: Lists</title>
  <link charset="utf-8" href="../nodebox.css" rel="stylesheet" type="text/css"/>

</head><body>
  <div class="link" id="nav">
    <h1><a href="../manual.html">NodeBox <span>Tutorials</span></a></h1>

    <h3>Lists</h3>

    <ul class="chapter">
      <li><a href="Strings.html">Strings →</a>
      </li><li>Chapter 6
      </li><li><a href="Variables.html">← Variables</a>
    </li></ul>
  </div>

  <div class="article">
    <p><a href="Variables.html">Variables</a> can hold entire lists of data. Lists are essential
    when your scripts increase in complexity: they are a way to group bits and pieces of
    information that belong together, for example: all the words to draw on screen, all the
    possible colors from which the script can choose, all the fonts from which the script can
    choose.</p>
    <p>A list in NodeBox is no different from a list in real life: it can hold a summary of stuff
    to do, groceries to buy, a sheet of names and adressess. The main difference is that in real
    life, we usually start counting from one, while lists in programming <strong>start from
    zero</strong>.</p>
    <p>The first element in a list has index zero, the second element in a list has index one.</p>
    <p><span class="media"><img alt="" height="250" src="media/lists-groceries.jpg" width="500"/></span></p>
    <h2>Creating a list</h2>

    <p>So, what does the code look like? Below is the grocery list defined in NodeBox. The list is
    defined between <strong>square brackets</strong>. Each item in the list is a piece of text (a
    string), therefore they are embedded in quotes. The list is assigned to a variable named
    <em>groceries</em>, but we know that variables can have any name we like, so it could be named
    <em>g</em> or <em>stufftodo</em> as well for that matter.</p>
<pre>groceries = <span class="s">[</span><span class="str">"apples"</span>, <span class="str">"pears"</span>, <span class="str">"carrots"</span>, <span class="str">"cucumber"</span>, <span class="str">"yoghurt"</span>, <span class="str">"milk"</span><span class="s">]</span>
<span class="kw">print</span> <span class="s">len</span><span class="s">(</span>groceries<span class="s">)</span>
&gt;&gt;&gt; <span class="s">6</span>
</pre>

    <p>A list can contain any kind of data: strings, numbers, and even lists.<br/>
    The len(<em>list</em>) command returns the number of items in a list.</p>
    <h2>Retrieving and editing items in a list</h2>

    <p>You can reference items in a list directly, by adding the index of the item you want to the
    variable name, between square brackets:</p>
<pre>
<span class="kw">print</span> groceries<span class="s">[</span><span class="s">0</span><span class="s">]</span>
&gt;&gt;&gt; apples
</pre>
<pre>groceries<span class="s">[</span><span class="s">3</span><span class="s">]</span> = <span class="str">"banana"</span>
<span class="kw">print</span> groceries
&gt;&gt;&gt; <span class="s">[</span><span class="str">"apples"</span>, <span class="str">"pears"</span>, <span class="str">"carrots"</span>, <span class="str">"banana"</span>, <span class="str">"yoghurt"</span>, <span class="str">"milk"</span><span class="s">]</span>
</pre>

    <p>Don’t forget: items in a list start with index zero. That’s why in the above example the
    fourth element is replaced. The fourth element has index 3.</p>
    <h2>Adding items to the list</h2>

    <p>Data in a list can change over the course of time. New items can be added to it, or old
    items deleted from it, just like you can add stuff to buy to a grocery sticky-note, or scratch
    out things.</p>
    <table border="0">
      <tbody>
        <tr>
          <td><img alt="" height="247" src="media/lists-append.jpg" width="247"/>
          </td><td>
            <br/>
            <br/>
            To append an item to the end of the list:
<pre>
groceries.<span class="s">append</span><span class="s">(</span><span class="str">"eggs"</span><span class="s">)</span>
<span class="kw">print</span> groceries
&gt;&gt;&gt; <span class="s">[</span><span class="str">"apples"</span>, <span class="str">"pears"</span>, 
&gt;&gt;&gt;  <span class="str">"carrots"</span>, <span class="str">"banana"</span>, 
&gt;&gt;&gt;  <span class="str">"yoghurt"</span>, <span class="str">"milk"</span>,
&gt;&gt;&gt;  <span class="str">"eggs"</span><span class="s">]</span>
</pre>To remove the eggs from the list:
<pre>
<span class="kw">del</span> groceries<span class="s">[</span><span class="s">6</span><span class="s">]</span>
</pre>
          </td></tr></tbody></table>

    <p>Items can be inserted halfway the list with the <em>list</em>.insert(<em>i</em>,
    <em>item</em>) command, where the <em>i</em> parameter is the position where you want the
    element to be.</p>
    <h2>Looping through the list</h2>

    <p><em>Looping through a list</em> is the same as going to the mall and working off your
    grocery list top to bottom: the first item to collect are <em>apples</em>, once you have those,
    you need to fetch <em>pears</em>, and so on.</p>
    <p>Going through all the items in a list is one of the most essential things you do when
    working with data. You could retrieve the items in a list manually when there are only a few of
    them, but not when the list contains hundreds or even thousands of, for example, strings of
    text that you want to draw to the screen.</p>
    <table border="0">
      <tbody>
        <tr>
          <td><img alt="" height="244" src="media/lists-loop.jpg" width="245"/>
          </td><td>
            <br/>
            <br/>
            Using the for-loop:
<pre>
<span class="kw">for</span> item <span class="kw">in</span> groceries:
    <span class="kw">print</span> <span class="str">"buy some "</span> + item 
&gt;&gt;&gt; buy some apples 
&gt;&gt;&gt; buy some pears 
&gt;&gt;&gt; buy some carrots 
&gt;&gt;&gt; buy some banana 
&gt;&gt;&gt; buy some yoghurt 
&gt;&gt;&gt; buy some milk 
&gt;&gt;&gt; buy some eggs
</pre>
          </td></tr></tbody></table>

    <p>In the above example, the indented command(s) below the <em>for</em> command are executed
    for each item in the list. The <em>item</em> variable consecutively contains each item in the
    list. After that, the loop ends.</p>
    <h2>Random items from the list</h2>

    <p>You can let the code decide on its own which items to draw from the list by using the
    <a href="../ref/Utility.html#choice()">choice()</a> command.</p>
    <h2>Example</h2>

    <p>This is a very braindead example of how you would use small lists to generate compositions.
    The script has a list of words it can use, and a list of colors it can use. After that, the
    script is free to act on its own: it takes random words and colors from the two lists and draws
    them to the screen in random sizes and rotations. It retains a certain coherence between
    different runs because of its limited words and colors.</p>
    <p> </p>
    <p><span class="media"><img alt="" height="132" src="media/lists-loop1.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop2.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop3.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop4.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop5.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop6.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop7.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop8.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop9.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop10.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop11.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop12.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop13.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop14.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop15.jpg" width="132"/></span>
    <span class="media"><img alt="" height="132" src="media/lists-loop16.jpg" width="132"/></span></p>
    <p>The code:</p>
<pre>words = <span class="s">[</span><span class="str">"Lists"</span>, <span class="str">"are"</span>, <span class="str">"fun"</span><span class="s">]</span>
colors = <span class="s">[</span><span class="kw">color</span><span class="s">(</span><span class="s">1</span>,<span class="s">0</span>,<span class="s">0</span><span class="s">)</span>, <span class="kw">color</span><span class="s">(</span><span class="s">1</span>,<span class="s">1</span>,<span class="s">1</span><span class="s">)</span>, <span class="kw">color</span><span class="s">(</span><span class="s">0</span>,<span class="s">0</span>,<span class="s">0</span><span class="s">)</span><span class="s">]</span>
 
<span class="kw">for</span> i <span class="kw">in</span> <span class="s">range</span><span class="s">(</span><span class="s">40</span><span class="s">)</span>:
 
    x = <span class="kw">random</span><span class="s">(</span><span class="kw">WIDTH</span><span class="s">)</span>
    y = <span class="kw">random</span><span class="s">(</span><span class="kw">HEIGHT</span><span class="s">)</span>
    <span class="kw">rotate</span><span class="s">(</span><span class="kw">random</span><span class="s">(</span><span class="s">360</span><span class="s">)</span><span class="s">)</span>
    <span class="kw">fontsize</span><span class="s">(</span><span class="kw">random</span><span class="s">(</span><span class="s">10</span>,<span class="s">100</span><span class="s">)</span><span class="s">)</span>
 
    <span class="kw">fill</span><span class="s">(</span><span class="kw">choice</span><span class="s">(</span>colors<span class="s">)</span><span class="s">)</span>
    <span class="kw">text</span><span class="s">(</span><span class="kw">choice</span><span class="s">(</span>words<span class="s">)</span>, x, y<span class="s">)</span>
</pre>

    <h2>Dictionaries</h2>

    <p>Dictionaries are extremely useful kinds of lists that have string indices, <em>keys</em>,
    that you define yourself. Each key is unique and references an item in the list. Dictionaries
    are created with <strong>curly braces</strong> instead of square brackets.</p>
<pre>heading = <span class="s">{</span><span class="s">}</span>
heading<span class="s">[</span><span class="str">"font"</span><span class="s">]</span> = <span class="str">"ConduitITC-Medium"</span>
heading<span class="s">[</span><span class="str">"size"</span><span class="s">]</span> = <span class="s">18</span>
heading<span class="s">[</span><span class="str">"fill"</span><span class="s">]</span> = <span class="kw">color</span><span class="s">(</span><span class="s">1</span>,<span class="s">0</span>,<span class="s">0</span><span class="s">)</span>
 
<span class="kw">print</span> heading.<span class="s">keys</span><span class="s">(</span><span class="s">)</span>
&gt;&gt;&gt; <span class="s">[</span><span class="str">"font"</span>, <span class="str">"fill"</span>, <span class="str">"size"</span><span class="s">]</span>
 
<span class="kw">print</span> heading<span class="s">[</span><span class="str">"size"</span><span class="s">]</span>
&gt;&gt;&gt; <span class="s">18</span>
 
<span class="kw">if</span> heading.<span class="s">has_key</span><span class="s">(</span><span class="str">"fill"</span><span class="s">)</span>: <span class="kw">print</span> <span class="str">"found!"</span>
&gt;&gt;&gt; found!
</pre>

    <h2>More on lists</h2>

    <p>There is a lot more stuff you can do with lists, like sorting and reversing, or writing
    filter functions for lists. The full documentation is <a href="http://docs.python.org/tut/node7.html#SECTION007100000000000000000">here</a>, in the Python
    documentation.</p>
  </div>

</body></html>